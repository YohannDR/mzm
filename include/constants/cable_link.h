#ifndef CABLE_LINK_CONSTANTS_H
#define CABLE_LINK_CONSTANTS_H

#define CABLE_LINK_ERROR_SHIFT_HARDWARE 0x10
#define CABLE_LINK_ERROR_SHIFT_CHECKSUM 0x11
#define CABLE_LINK_ERROR_SHIFT_OVERFLOW 0x12
#define CABLE_LINK_ERROR_SHIFT_SIO 0x14
#define CABLE_LINK_ERROR_SHIFT_ID_OVER 0x16

#define CABLE_LINK_ERROR_HARDWARE (1 << CABLE_LINK_ERROR_SHIFT_HARDWARE)
#define CABLE_LINK_ERROR_CHECKSUM (1 << CABLE_LINK_ERROR_SHIFT_CHECKSUM)
#define CABLE_LINK_ERROR_SEND_OVERFLOW (1 << CABLE_LINK_ERROR_SHIFT_OVERFLOW)
#define CABLE_LINK_ERROR_RECEIVE_OVERFLOW (2 << CABLE_LINK_ERROR_SHIFT_OVERFLOW)
#define CABLE_LINK_ERROR_SIO_INTERNAL (1 << CABLE_LINK_ERROR_SHIFT_SIO)
#define CABLE_LINK_ERROR_SIO_STOP (2 << CABLE_LINK_ERROR_SHIFT_SIO)
#define CABLE_LINK_ERROR_ID_OVER (1 << CABLE_LINK_ERROR_SHIFT_ID_OVER)

enum CableLinkSerialTransferStage {
    CABLE_LINK_SERIAL_TRANSFER_STAGE_INIT, // Clear and setup serial transfer
    CABLE_LINK_SERIAL_TRANSFER_STAGE_SETUP_CONNECTION, // Initial link to pair the GBA, try to start serial transfer
    CABLE_LINK_SERIAL_TRANSFER_STAGE_SETUP_DATA, // Set serial transfer to wait and load the data and size of data
    CABLE_LINK_SERIAL_TRANSFER_STAGE_TRANSFER_DATA, // Transfer the size of data, then the data
    CABLE_LINK_SERIAL_TRANSFER_STAGE_SETUP_VERIFICATION, // Setup serial transfer
    CABLE_LINK_SERIAL_TRANSFER_STAGE_VERIFY_DATA, // Transfer the data and ensure data properly transferred
    CABLE_LINK_SERIAL_TRANSFER_STAGE_TERMINATE_CONNECTION, // Serial finished
};

enum CableLinkTransferStage {
    CABLE_LINK_TRANSFER_STAGE_NO_DATA,
    CABLE_LINK_TRANSFER_STAGE_INIT_DATA,
    CABLE_LINK_TRANSFER_STAGE_SENDING_DATA
};

#define CABLE_LINK_DURING_TRANSFER_ERROR_NONE                           (0)
#define CABLE_LINK_DURING_TRANSFER_ERROR_VERIFY_TIMEOUT                 (1 << 0)
#define CABLE_LINK_DURING_TRANSFER_ERROR_UNK2                           (1 << 1)
#define CABLE_LINK_DURING_TRANSFER_ERROR_INIT_TIMEOUT                   (1 << 2)
#define CABLE_LINK_DURING_TRANSFER_ERROR_INIT_TOO_MANY_CONNECTIONS      (1 << 3)

#endif
