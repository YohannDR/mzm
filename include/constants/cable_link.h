#ifndef CABLE_LINK_CONSTANTS_H
#define CABLE_LINK_CONSTANTS_H

#define CABLE_LINK_STAT_LOCAL_ID 0x3

#define CABLE_LINK_STAT_SHIFT_PLAYER_COUNT     2
#define CABLE_LINK_STAT_SHIFT_PARENT           5
#define CABLE_LINK_STAT_SHIFT_CONN_ESTABLISHED 6
#define CABLE_LINK_STAT_SHIFT_RECEIVED_NOTHING 8
#define CABLE_LINK_STAT_SHIFT_UNK_FLAG_9       9

#define CABLE_LINK_STAT_PLAYER_COUNT     (1 << CABLE_LINK_STAT_SHIFT_PLAYER_COUNT)
#define CABLE_LINK_STAT_PARENT           (1 << CABLE_LINK_STAT_SHIFT_PARENT)
#define CABLE_LINK_STAT_CONN_ESTABLISHED (1 << CABLE_LINK_STAT_SHIFT_CONN_ESTABLISHED)
#define CABLE_LINK_STAT_RECEIVED_NOTHING (1 << CABLE_LINK_STAT_SHIFT_RECEIVED_NOTHING)
#define CABLE_LINK_STAT_UNK_FLAG_9       (1 << CABLE_LINK_STAT_SHIFT_UNK_FLAG_9)


#define CABLE_LINK_ERROR_SHIFT_HARDWARE         0x10
#define CABLE_LINK_ERROR_SHIFT_CHECKSUM         0x11
#define CABLE_LINK_ERROR_SHIFT_OVERFLOW         0x12
#define CABLE_LINK_ERROR_SHIFT_SIO              0x14
#define CABLE_LINK_ERROR_SHIFT_ID_OVER          0x16

#define CABLE_LINK_ERROR_HARDWARE         (1 << CABLE_LINK_ERROR_SHIFT_HARDWARE)
#define CABLE_LINK_ERROR_CHECKSUM         (1 << CABLE_LINK_ERROR_SHIFT_CHECKSUM)
#define CABLE_LINK_ERROR_SEND_OVERFLOW    (1 << CABLE_LINK_ERROR_SHIFT_OVERFLOW)
#define CABLE_LINK_ERROR_RECEIVE_OVERFLOW (2 << CABLE_LINK_ERROR_SHIFT_OVERFLOW)
#define CABLE_LINK_ERROR_SIO_INTERNAL     (1 << CABLE_LINK_ERROR_SHIFT_SIO)
#define CABLE_LINK_ERROR_SIO_STOP         (2 << CABLE_LINK_ERROR_SHIFT_SIO)
#define CABLE_LINK_ERROR_ID_OVER          (1 << CABLE_LINK_ERROR_SHIFT_ID_OVER)

enum ActiveTransfer {
    ACTIVE_TRANSFER_NONE,
    ACTIVE_TRANSFER_CONNECT,
    ACTIVE_TRANSFER_LINK
};

enum ConnectStage {
    CONNECT_STAGE_FADE_MUSIC,
    CONNECT_STAGE_WAIT_CLEAR_SOUND,
    CONNECT_STAGE_MULTIBOOT_INIT,
    CONNECT_STAGE_MULTIBOOT_PROCESS,
    CONNECT_STAGE_SERIAL_TRANSFER_SEND_TRANSFER_ROM,
    CONNECT_STAGE_SERIAL_TRANSFER_COMPLETE,
    CONNECT_STAGE_SERIAL_TRANSFER_SUCCESS,
    CONNECT_STAGE_MULTIBOOT_TIMED_OUT,
    CONNECT_STAGE_BACKED_OUT,
    CONNECT_STAGE_SERIAL_TRANSFER_FAILURE,
    CONNECT_STAGE_SET_ACTIVE_LINK,
    CONNECT_STAGE_RESTORE_AUDIO,
    CONNECT_STAGE_FINISH
};

enum TransferResult {
    TRANSFER_RESULT_NONE,
    TRANSFER_RESULT_SUCCESS,
    TRANSFER_RESULT_BACKED_OUT,
    TRANSFER_RESULT_TIMED_OUT,
    TRANSFER_RESULT_FAILURE,
    TRANSFER_RESULT_SUCCESS2 // Related to number of received images
};

#endif
